(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(t,e,a){},102:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(39),r=a.n(i),c=(a(52),a(5)),l=a(6),d=a(9),o=a(7),u=a(8),k=(a(54),a(10)),p=a(12),g=(a(61),a(27)),T=a.n(g),f=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(d.a)(this,Object(o.a)(e).call(this,t))).toggleEditTask=function(){var t=a.state.isCurrentTaskEditing;a.setState({isCurrentTaskEditing:!t},function(){t||a.taskEditInputRef.current&&a.taskEditInputRef.current.focus()}),a.props.toggleEditing()},a.saveEditTask=function(){var t=a.props,e=t.taskData;(0,t.editTask)(e.id,a.state.taskTitle),a.toggleEditTask()},a.changeTaskTitle=function(t){a.setState({taskTitle:t.target.value})},a.toggleSelectTask=function(){a.props.toggleSelectTask(a.props.taskData.id)},a.deleteTask=function(){a.props.deleteTask(a.props.taskData.id)},a.state={isCurrentTaskEditing:!1,taskTitle:t.taskData.title},a.taskEditInputRef=s.a.createRef(),a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.taskData,a=t.selected,n=t.isAnyTaskEditing,i=this.state,r=i.isCurrentTaskEditing,c=i.taskTitle;return s.a.createElement("li",{className:T()("task-item",n&&!r&&"no-clickable")},r?s.a.createElement("input",{type:"text",className:"task-edit-input",ref:this.taskEditInputRef,value:c,onChange:this.changeTaskTitle}):s.a.createElement("span",{className:T()("task-text",a.includes(e.id)&&"task-text-selected")},c),!r&&s.a.createElement("button",{className:"btn-icon",onClick:this.deleteTask},s.a.createElement("i",{className:"fa fa-trash"})),r?s.a.createElement("button",{className:"btn btn-primary btn-save",onClick:this.saveEditTask},"save"):s.a.createElement("button",{className:"btn-toggle-edit btn-icon",onClick:this.toggleEditTask},s.a.createElement("i",{className:"fa fa-edit"})),!r&&s.a.createElement("button",{className:"btn-icon",onClick:this.toggleSelectTask},a.includes(e.id)?s.a.createElement("i",{className:"fa fa-minus"}):s.a.createElement("i",{className:"fa fa-check"})))}}]),e}(s.a.Component),E=a(42),b=a.n(E),h=(a(66),a(21)),m=a(46),y=function(t,e,a){var n=Array.from(t),s=n.splice(e,1),i=Object(m.a)(s,1)[0];return n.splice(a,0,i),n},v=a(3),O=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(d.a)(this,Object(o.a)(e).call(this,t))).toggleEditing=function(){a.setState({isAnyTaskEditing:!a.state.isAnyTaskEditing})},a.state={tasks:t.tasks,isAnyTaskEditing:!1},a.onDragEnd=a.onDragEnd.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"onDragEnd",value:function(t){if(t.destination){var e=y(this.state.tasks,t.source.index,t.destination.index);this.props.reOrderTasks(e),this.setState({tasks:e})}}},{key:"componentWillReceiveProps",value:function(t){this.props!==t&&this.setState({tasks:t.tasks})}},{key:"render",value:function(){var t=this,e=b()(this.props,"tasks");return s.a.createElement(h.a,{onDragEnd:this.onDragEnd},this.state.tasks.length>0&&s.a.createElement(h.c,{droppableId:"droppable",isDropDisabled:this.state.isAnyTaskEditing},function(a,n){return s.a.createElement("div",{ref:a.innerRef,className:"droppable-block",style:(i=n.isDraggingOver,{background:i?"lightblue":"lightgrey",padding:8})},t.state.tasks.map(function(a,n){return s.a.createElement(h.b,{key:a.id,draggableId:a.id,index:n},function(i,r){return s.a.createElement("div",Object.assign({ref:i.innerRef},i.draggableProps,i.dragHandleProps,{style:(c=r.isDragging,l=i.draggableProps.style,Object(v.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,"px 0"),background:c?"lightgreen":"#eee"},l))}),s.a.createElement(f,Object.assign({taskData:a,key:n,toggleEditing:t.toggleEditing,isAnyTaskEditing:t.state.isAnyTaskEditing},e)));var c,l})}),a.placeholder);var i}))}}]),e}(s.a.Component);a(100);var j=function(){return s.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Please, enter valid data!")},D=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(d.a)(this,Object(o.a)(e).call(this,t))).inputChange=function(t){a.setState({inputAddTask:t.target.value})},a.addTask=function(){if(a.checkValid()){var t=new Date;a.props.addTask(a.state.inputAddTask,t.getTime()),a.setState({inputAddTask:""}),a.validTrue()}else a.validFalse()},a.onKeyDown=function(t){13===t.keyCode&&a.addTask()},a.checkValid=function(){return/^(\s?[a-z\u0430-\u044f\u04510-9(),.!-]{1,20}\s?){1,14}$/i.test(a.state.inputAddTask)},a.validTrue=function(){a.setState({isValid:!0})},a.validFalse=function(){a.setState({isValid:!1})},a.state={isValid:!0,inputAddTask:""},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.state,e=t.isValid,a=t.inputAddTask;return s.a.createElement("div",{className:"form-group"},e||s.a.createElement(j,null),s.a.createElement("input",{type:"text",className:"form-control input-add-task",placeholder:"To do ...",value:a,onKeyDown:this.onKeyDown,onChange:this.inputChange}),s.a.createElement("button",{className:"btn btn-success btn-add-task",onClick:this.addTask},"Add Task"))}}]),e}(s.a.Component),S=a(2),A=function(t,e){return{type:"ADD_TASK",payload:{title:t,id:e}}},C=function(t){return{type:"DELETE_TASKS",payload:{id:t}}},N=function(t,e){return{type:"EDIT_TASK",payload:{id:t,title:e}}},w=function(t){return{type:"REORDER_TASKS",payload:{tasks:t}}},R=function(t){return{type:"DELETE_SELECT",payload:{id:t}}},K=function(t){return{type:"ADD_SELECT",payload:{id:t}}},_=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(d.a)(this,(t=Object(o.a)(e)).call.apply(t,[this].concat(s)))).toggleSelectTask=function(t){var e=a.props.actions,n=e.addSelect,s=e.deleteSelect;a.props.selected.includes(t)?s(t):n(t)},a.deleteTask=function(t){a.props.actions.deleteTask(t)},a.editTask=function(t,e){a.props.actions.editTask(t,e)},a.reOrderTasks=function(t){a.props.actions.reOrderTasks(t)},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(D,{onKeyDown:this.onKeyDown,onChange:this.inputChange,addTask:this.props.actions.addTask}),s.a.createElement(O,{tasks:this.props.tasks,selected:this.props.selected,toggleSelectTask:this.toggleSelectTask,deleteTask:this.deleteTask,editTask:this.editTask,reOrderTasks:this.reOrderTasks}))}}]),e}(s.a.Component),x=Object(k.b)(function(t){return{tasks:t.tasks,selected:t.selected}},function(t){return{actions:Object(S.b)({deleteSelect:R,addSelect:K,addTask:A,deleteTask:C,editTask:N,reOrderTasks:w},t)}})(_),I=a(22),L=Object(S.d)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TASK":return Object(v.a)({},t,{tasks:Object(I.a)(t.tasks).concat([e.payload])});case"EDIT_TASK":var a=Object(I.a)(t.tasks),n=a.find(function(t){return t.id===e.payload.id}),s=a.indexOf(n);return a.splice(s,1,{id:e.payload.id,title:e.payload.title}),Object(v.a)({},t,{tasks:a});case"DELETE_TASKS":return Object(v.a)({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.payload.id})});case"REORDER_TASKS":return Object(v.a)({},t,{tasks:e.payload.tasks});case"DELETE_SELECT":return Object(v.a)({},t,{selected:t.selected.filter(function(t){return t!==e.payload.id})});case"ADD_SELECT":return Object(v.a)({},t,{selected:Object(I.a)(t.selected).concat([e.payload.id])});default:return t}},{tasks:[],selected:[],input:"",valid:!0}),V=s.a.createElement(x),P=s.a.createElement(k.a,{store:L},V);r.a.render(P,document.getElementById("root"))},47:function(t,e,a){t.exports=a(102)},52:function(t,e,a){},54:function(t,e,a){},61:function(t,e,a){},66:function(t,e,a){}},[[47,2,1]]]);
//# sourceMappingURL=main.f027e9f5.chunk.js.map